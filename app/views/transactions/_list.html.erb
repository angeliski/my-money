<div id="transactions_list" class="space-y-6">
  <% if transactions.any? %>
    <%
      # Agrupar por status: Efetivadas vs Pendentes
      effectuated = transactions.select { |t| !t.pending_by_date? || t.manually_effectuated? }
      pending = transactions.select { |t| t.pending_by_date? && !t.manually_effectuated? }
    %>

    <% if effectuated.any? %>
      <div class="mb-6">
        <div class="flex items-center mb-3 px-1">
          <div class="text-base font-semibold text-slate-200">Efetivadas</div>
        </div>
        <div class="space-y-2">
          <% effectuated.sort_by(&:transaction_date).reverse.each do |transaction| %>
            <%= render "transaction", transaction: transaction %>
          <% end %>
        </div>
      </div>
    <% end %>

    <% if pending.any? %>
      <div class="mb-6">
        <div class="flex items-center mb-3 px-1">
          <div class="text-base font-semibold text-slate-200">Pendentes</div>
        </div>
        <div class="space-y-2">
          <% pending.sort_by(&:transaction_date).reverse.each do |transaction| %>
            <%= render "transaction", transaction: transaction %>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="text-center text-slate-400 py-12">
      <div class="text-6xl mb-4">ğŸ“Š</div>
      <div class="text-lg font-medium mb-2">Nenhuma transaÃ§Ã£o encontrada</div>
      <div class="text-sm text-slate-500">Tente ajustar os filtros ou adicione uma nova transaÃ§Ã£o</div>
    </div>
  <% end %>
</div>
